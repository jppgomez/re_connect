<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>[Re]Connect - [performance]</title>  
    <link rel="stylesheet" href="./style/general.css">
    <link rel="icon" href="./assets/Logo.svg" sizes="any" type="image/svg+xml">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.4.2/chroma.min.js" integrity="sha512-zInFF17qBFVvvvFpIfeBzo7Tj7+rQxLeTJDmbxjBz5/zIr89YVbTNelNhdTT+/DCrxoVzBeUPVFJsczKbB7sew==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<style>
    canvas{
        grid-column: 1 / 13;
        grid-row: 1 / 10;
        z-index: -1;
    }
</style>
<body> 
    <div id="overlay_texture"></div>
    <img id="elephant">
    <button id="advance_files"></button>
    <footer>
        <div id="logo"><img src="./assets/FooterLogo.svg"></div>
        <div id="play"><img id="play_img" src="./assets/icons/Play.svg"></div>
        <div id="pause"><img id="pause_img" src="./assets/icons/Pause.svg"></div>
        <div id="state_text">press [play]</div>
        <div id="load_bar">
            <div id = "load_wrapper">
                <div id="load_prog"></div>
            </div>
        </div>
        <div id="volume_mute" class="mute"><img id="volume_img" src="./assets/icons/VolumeOff.svg"></div>
    </footer>
</body>
<script>
    let playingArray, pausedArray;
    var qs = parent.document.URL.substring(parent.document.URL.indexOf('?lang=') + 6, parent.document.URL.indexOf('?lang=') + 9);
    
    let adv = document.getElementById("advance_files");
    
    if(qs == 'prt'){
        playingArray = ['tocando', 'tocando.', 'tocando..', 'tocando...'];
        pausedArray = ['pausado'];
        adv.innerHTML = '[avanÃ§ar >]';
        document.getElementById('state_text').innerHTML = 'carregar [play]';
    }
    else {
        playingArray = ['playing', 'playing.', 'playing..', 'playing...'];
        pausedArray = ['paused'];
        adv.innerHTML = '[advance >]';
    } 

    adv.addEventListener("click", () => {
        location.href = "./files.html?lang=" + qs;
    });
</script>
<script src="./script/performance.js"></script>
</script>
</html>